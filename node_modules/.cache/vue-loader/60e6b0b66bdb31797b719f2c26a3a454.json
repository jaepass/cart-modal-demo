{"remainingRequest":"/Users/jaeriahtay/cart-modal-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jaeriahtay/cart-modal-demo/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jaeriahtay/cart-modal-demo/src/App.vue","mtime":1581586854426},{"path":"/Users/jaeriahtay/cart-modal-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaeriahtay/cart-modal-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jaeriahtay/cart-modal-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaeriahtay/cart-modal-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vSW1wb3J0IENvbW1lcmNlIGRlcGVuZGVuY3kKaW1wb3J0IENvbW1lcmNlIGZyb20gIkBjaGVjL2NvbW1lcmNlLmpzIjsKaW1wb3J0IFByb2R1Y3QgZnJvbSAiQC9jb21wb25lbnRzL1Byb2R1Y3QudnVlIjsKaW1wb3J0IENhcnQgZnJvbSAiQC9jb21wb25lbnRzL0NhcnQudnVlIjsKCi8vIEluaXRpYWxpemUgc3RvcmUgd2l0aCBwdWJsaWMga2V5CmNvbnN0IGNvbW1lcmNlID0gbmV3IENvbW1lcmNlKAogICJwa18xNjg3NTdiOTVmZjU1YzA2NmI1OWI5ZTkzYzQ4YTJiMGU3YmMxYjk3Yzc5OGIiLAogIHRydWUKKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYXBwIiwKICBjb21wb25lbnRzOiB7CiAgICBQcm9kdWN0LAogICAgQ2FydAogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcm9kdWN0czogW10sCiAgICAgIGNhcnQ6IFtdLAogICAgICBkaXNwbGF5Q2FydDogZmFsc2UKICAgIH07CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIGNvbW1lcmNlLnByb2R1Y3RzCiAgICAgIC5saXN0KCkKICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIC8vIFN1Y2Nlc3MKICAgICAgICB0aGlzLnByb2R1Y3RzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSkKICAgICAgLy8gRXJyb3IKICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwoKICAgIC8vSW52b2tlIGNvbW1lcmNlIGNhcnQgbWV0aG9kIHRvIHJldHJpZXZlIGNhcnQgaW4gc2Vzc2lvbgogICAgY29tbWVyY2UuY2FydAogICAgICAucmV0cmlldmUoKQogICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgLy9TdWNjZXNzZnVsIHJlc3BvbnNlCiAgICAgICAgdGhpcy5jYXJ0ID0gcmVzcG9uc2U7CiAgICAgIH0pCiAgICAgIC8vRXJyb3IKICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIC8vQWRkIHByb2R1Y3RzIHRvIGNhcnQKICAgIGFkZFRvQ2FydChwcm9kdWN0KSB7CiAgICAgIGNvbW1lcmNlLmNhcnQKICAgICAgICAuYWRkKHsKICAgICAgICAgIGlkOiBwcm9kdWN0LmlkLAogICAgICAgICAgcXVhbnRpdHk6IDEKICAgICAgICB9KQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMuY2FydCA9IHJlc3BvbnNlLmNhcnQ7CiAgICAgICAgfSk7CiAgICB9LAoKICAgIHRvZ2dsZUNhcnQoKSB7CiAgICAgIHRoaXMuZGlzcGxheUNhcnQgPSAhdGhpcy5kaXNwbGF5Q2FydDsKICAgIH0KICB9LAoKICBjb21wdXRlZDogewogICAgY2FydEl0ZW1zKCkgewogICAgICByZXR1cm4gdGhpcy5jYXJ0ID8gdGhpcy5jYXJ0LmxpbmVfaXRlbXMgOiBbXTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"header\">\n      <button @click=\"toggleCart\">View Cart</button>\n      <p v-if=\"cartItems\">{{cart.total_items}}</p>\n    </div>\n\n    <Cart :items=\"cartItems\" v-if=\"displayCart\"/>\n    <div class=\"container mx-auto px-4\">\n      <div class=\"flex mb-4\">\n        <div class=\"row\">\n          <div v-for=\"product in products\" :key=\"product.id\" class=\"col-sm-4\">\n            <Product :product=\"product\" @add-to-cart=\"addToCart(product)\"/>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n//Import Commerce dependency\nimport Commerce from \"@chec/commerce.js\";\nimport Product from \"@/components/Product.vue\";\nimport Cart from \"@/components/Cart.vue\";\n\n// Initialize store with public key\nconst commerce = new Commerce(\n  \"pk_168757b95ff55c066b59b9e93c48a2b0e7bc1b97c798b\",\n  true\n);\n\nexport default {\n  name: \"app\",\n  components: {\n    Product,\n    Cart\n  },\n\n  data() {\n    return {\n      products: [],\n      cart: [],\n      displayCart: false\n    };\n  },\n\n  created() {\n    commerce.products\n      .list()\n      .then(response => {\n        // Success\n        this.products = response.data;\n      })\n      // Error\n      .catch(error => {\n        // eslint-disable-next-line\n        console.log(error);\n      });\n\n    //Invoke commerce cart method to retrieve cart in session\n    commerce.cart\n      .retrieve()\n      .then(response => {\n        //Successful response\n        this.cart = response;\n      })\n      //Error\n      .catch(error => {\n        // eslint-disable-next-line\n        console.log(error);\n      });\n  },\n\n  methods: {\n    //Add products to cart\n    addToCart(product) {\n      commerce.cart\n        .add({\n          id: product.id,\n          quantity: 1\n        })\n        .then(response => {\n          this.cart = response.cart;\n        });\n    },\n\n    toggleCart() {\n      this.displayCart = !this.displayCart;\n    }\n  },\n\n  computed: {\n    cartItems() {\n      return this.cart ? this.cart.line_items : [];\n    }\n  }\n};\n</script>\n\n<style>\n.header {\n  display: flex;\n  justify-content: flex-end;\n  position: relative;\n  padding-top: 10px;\n  padding-right: 20px;\n}\n\n.header button {\n  text-decoration: none;\n  background-color: black;\n  color: #fff;\n  padding: 10px 6px;\n  cursor: pointer;\n  border: 1px solid black;\n  transition: 0.3s all ease-in-out;\n\n}\n\n.header button:hover {\n  background-color: white;\n  color: black;\n}\n\n.header p {\n  padding: 10px 10px;\n}\n</style>"]}]}