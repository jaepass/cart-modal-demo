{"remainingRequest":"/Users/jaeriahtay/cart-modal-demo/node_modules/babel-loader/lib/index.js!/Users/jaeriahtay/cart-modal-demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jaeriahtay/cart-modal-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jaeriahtay/cart-modal-demo/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jaeriahtay/cart-modal-demo/src/App.vue","mtime":1581586854426},{"path":"/Users/jaeriahtay/cart-modal-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaeriahtay/cart-modal-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jaeriahtay/cart-modal-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaeriahtay/cart-modal-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy9JbXBvcnQgQ29tbWVyY2UgZGVwZW5kZW5jeQppbXBvcnQgQ29tbWVyY2UgZnJvbSAiQGNoZWMvY29tbWVyY2UuanMiOwppbXBvcnQgUHJvZHVjdCBmcm9tICJAL2NvbXBvbmVudHMvUHJvZHVjdC52dWUiOwppbXBvcnQgQ2FydCBmcm9tICJAL2NvbXBvbmVudHMvQ2FydC52dWUiOyAvLyBJbml0aWFsaXplIHN0b3JlIHdpdGggcHVibGljIGtleQoKdmFyIGNvbW1lcmNlID0gbmV3IENvbW1lcmNlKCJwa18xNjg3NTdiOTVmZjU1YzA2NmI1OWI5ZTkzYzQ4YTJiMGU3YmMxYjk3Yzc5OGIiLCB0cnVlKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhcHAiLAogIGNvbXBvbmVudHM6IHsKICAgIFByb2R1Y3Q6IFByb2R1Y3QsCiAgICBDYXJ0OiBDYXJ0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdHM6IFtdLAogICAgICBjYXJ0OiBbXSwKICAgICAgZGlzcGxheUNhcnQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgY29tbWVyY2UucHJvZHVjdHMubGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIC8vIFN1Y2Nlc3MKICAgICAgX3RoaXMucHJvZHVjdHMgPSByZXNwb25zZS5kYXRhOwogICAgfSkgLy8gRXJyb3IKICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0pOyAvL0ludm9rZSBjb21tZXJjZSBjYXJ0IG1ldGhvZCB0byByZXRyaWV2ZSBjYXJ0IGluIHNlc3Npb24KCiAgICBjb21tZXJjZS5jYXJ0LnJldHJpZXZlKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgLy9TdWNjZXNzZnVsIHJlc3BvbnNlCiAgICAgIF90aGlzLmNhcnQgPSByZXNwb25zZTsKICAgIH0pIC8vRXJyb3IKICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgLy9BZGQgcHJvZHVjdHMgdG8gY2FydAogICAgYWRkVG9DYXJ0OiBmdW5jdGlvbiBhZGRUb0NhcnQocHJvZHVjdCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGNvbW1lcmNlLmNhcnQuYWRkKHsKICAgICAgICBpZDogcHJvZHVjdC5pZCwKICAgICAgICBxdWFudGl0eTogMQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5jYXJ0ID0gcmVzcG9uc2UuY2FydDsKICAgICAgfSk7CiAgICB9LAogICAgdG9nZ2xlQ2FydDogZnVuY3Rpb24gdG9nZ2xlQ2FydCgpIHsKICAgICAgdGhpcy5kaXNwbGF5Q2FydCA9ICF0aGlzLmRpc3BsYXlDYXJ0OwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNhcnRJdGVtczogZnVuY3Rpb24gY2FydEl0ZW1zKCkgewogICAgICByZXR1cm4gdGhpcy5jYXJ0ID8gdGhpcy5jYXJ0LmxpbmVfaXRlbXMgOiBbXTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAqBA;AACA,OAAA,QAAA,MAAA,mBAAA;AACA,OAAA,OAAA,MAAA,0BAAA;AACA,OAAA,IAAA,MAAA,uBAAA,C,CAEA;;AACA,IAAA,QAAA,GAAA,IAAA,QAAA,CACA,kDADA,EAEA,IAFA,CAAA;AAKA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA,OADA;AAEA,IAAA,IAAA,EAAA;AAFA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,WAAA,EAAA;AAHA,KAAA;AAKA,GAbA;AAeA,EAAA,OAfA,qBAeA;AAAA;;AACA,IAAA,QAAA,CAAA,QAAA,CACA,IADA,GAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA,KALA,EAMA;AANA,KAOA,KAPA,CAOA,UAAA,KAAA,EAAA;AACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,KAVA,EADA,CAaA;;AACA,IAAA,QAAA,CAAA,IAAA,CACA,QADA,GAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA;AACA,MAAA,KAAA,CAAA,IAAA,GAAA,QAAA;AACA,KALA,EAMA;AANA,KAOA,KAPA,CAOA,UAAA,KAAA,EAAA;AACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,KAVA;AAWA,GAxCA;AA0CA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,qBAEA,OAFA,EAEA;AAAA;;AACA,MAAA,QAAA,CAAA,IAAA,CACA,GADA,CACA;AACA,QAAA,EAAA,EAAA,OAAA,CAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA,EAKA,IALA,CAKA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA;AACA,OAPA;AAQA,KAXA;AAaA,IAAA,UAbA,wBAaA;AACA,WAAA,WAAA,GAAA,CAAA,KAAA,WAAA;AACA;AAfA,GA1CA;AA4DA,EAAA,QAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,aAAA,KAAA,IAAA,GAAA,KAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA;AAHA;AA5DA,CAAA","sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"header\">\n      <button @click=\"toggleCart\">View Cart</button>\n      <p v-if=\"cartItems\">{{cart.total_items}}</p>\n    </div>\n\n    <Cart :items=\"cartItems\" v-if=\"displayCart\"/>\n    <div class=\"container mx-auto px-4\">\n      <div class=\"flex mb-4\">\n        <div class=\"row\">\n          <div v-for=\"product in products\" :key=\"product.id\" class=\"col-sm-4\">\n            <Product :product=\"product\" @add-to-cart=\"addToCart(product)\"/>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n//Import Commerce dependency\nimport Commerce from \"@chec/commerce.js\";\nimport Product from \"@/components/Product.vue\";\nimport Cart from \"@/components/Cart.vue\";\n\n// Initialize store with public key\nconst commerce = new Commerce(\n  \"pk_168757b95ff55c066b59b9e93c48a2b0e7bc1b97c798b\",\n  true\n);\n\nexport default {\n  name: \"app\",\n  components: {\n    Product,\n    Cart\n  },\n\n  data() {\n    return {\n      products: [],\n      cart: [],\n      displayCart: false\n    };\n  },\n\n  created() {\n    commerce.products\n      .list()\n      .then(response => {\n        // Success\n        this.products = response.data;\n      })\n      // Error\n      .catch(error => {\n        // eslint-disable-next-line\n        console.log(error);\n      });\n\n    //Invoke commerce cart method to retrieve cart in session\n    commerce.cart\n      .retrieve()\n      .then(response => {\n        //Successful response\n        this.cart = response;\n      })\n      //Error\n      .catch(error => {\n        // eslint-disable-next-line\n        console.log(error);\n      });\n  },\n\n  methods: {\n    //Add products to cart\n    addToCart(product) {\n      commerce.cart\n        .add({\n          id: product.id,\n          quantity: 1\n        })\n        .then(response => {\n          this.cart = response.cart;\n        });\n    },\n\n    toggleCart() {\n      this.displayCart = !this.displayCart;\n    }\n  },\n\n  computed: {\n    cartItems() {\n      return this.cart ? this.cart.line_items : [];\n    }\n  }\n};\n</script>\n\n<style>\n.header {\n  display: flex;\n  justify-content: flex-end;\n  position: relative;\n  padding-top: 10px;\n  padding-right: 20px;\n}\n\n.header button {\n  text-decoration: none;\n  background-color: black;\n  color: #fff;\n  padding: 10px 6px;\n  cursor: pointer;\n  border: 1px solid black;\n  transition: 0.3s all ease-in-out;\n\n}\n\n.header button:hover {\n  background-color: white;\n  color: black;\n}\n\n.header p {\n  padding: 10px 10px;\n}\n</style>"],"sourceRoot":"src"}]}