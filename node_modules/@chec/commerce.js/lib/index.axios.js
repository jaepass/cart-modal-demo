(function (_objectWithoutProperties, _typeof, _defineProperty, _classCallCheck, _createClass, _regeneratorRuntime, _asyncToGenerator) {
  'use strict';

  _objectWithoutProperties = _objectWithoutProperties && _objectWithoutProperties.hasOwnProperty('default') ? _objectWithoutProperties['default'] : _objectWithoutProperties;
  _typeof = _typeof && _typeof.hasOwnProperty('default') ? _typeof['default'] : _typeof;
  _defineProperty = _defineProperty && _defineProperty.hasOwnProperty('default') ? _defineProperty['default'] : _defineProperty;
  _classCallCheck = _classCallCheck && _classCallCheck.hasOwnProperty('default') ? _classCallCheck['default'] : _classCallCheck;
  _createClass = _createClass && _createClass.hasOwnProperty('default') ? _createClass['default'] : _createClass;
  _regeneratorRuntime = _regeneratorRuntime && _regeneratorRuntime.hasOwnProperty('default') ? _regeneratorRuntime['default'] : _regeneratorRuntime;
  _asyncToGenerator = _asyncToGenerator && _asyncToGenerator.hasOwnProperty('default') ? _asyncToGenerator['default'] : _asyncToGenerator;

  var Storage=function(){function a(b){_classCallCheck(this,a),this.commerce=b;}return _createClass(a,[{key:"set",value:function set(a,b,c){var d,e="";if(d=this.commerce.options.config&&"undefined"!=typeof this.commerce.options.config.cookie_path?this.commerce.options.config.cookie_path:"/",c){var f=new Date;f.setTime(f.getTime()+1e3*(60*(60*(24*c)))),e="; expires="+f.toGMTString();}return document.cookie=a+"="+b+e+"; path="+d}},{key:"get",value:function get(a){a+="=";for(var b,d=0,e=Array.from(document.cookie.split(";"));d<e.length;d++){for(b=e[d];" "===b.charAt(0);)b=b.substring(1,b.length);if(0===b.indexOf(a))return b.substring(a.length,b.length)}return null}},{key:"remove",value:function remove(a){return this.set(a,"",-1)}}]),a}();

  var Cart=function(){function a(b){_classCallCheck(this,a),this.commerce=b,this.cart=null;}return _createClass(a,[{key:"refresh",value:function refresh(){var a=this;return this.commerce.request("carts").then(function(b){var c=b.id;return a.commerce.storage.set("commercejs_cart_id",c,30),a.cart=b,c})}},{key:"id",value:function id(){if(null!==this.cart&&null!==this.cart.id)return this.cart.id;var a=this.commerce.storage.get("commercejs_cart_id");return "string"==typeof a&&a.length?a:null}},{key:"request",value:function(){var a=_asyncToGenerator(_regeneratorRuntime.mark(function a(){var b,c,d,e,f,g=this,h=arguments;return _regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b=0<h.length&&void 0!==h[0]?h[0]:"",c=1<h.length&&void 0!==h[1]?h[1]:"get",d=2<h.length&&void 0!==h[2]?h[2]:null,e=!!(3<h.length&&void 0!==h[3])&&h[3],f="string"==typeof b&&b.length?"/".concat(b):"",this.id()){a.next=8;break}return a.next=8,this.refresh();case 8:return a.abrupt("return",this.commerce.request("carts/".concat(this.id()).concat(f),c,d,e).catch(function(a){if(a.response&&404===a.response.status)return g.refresh().then(function(){return g.commerce.request("carts/".concat(g.id()).concat(f),c,d,e)});throw a}));case 9:case"end":return a.stop();}},a,this)}));return function request(){return a.apply(this,arguments)}}()},{key:"add",value:function add(a){return this.request("","post",a)}},{key:"retrieve",value:function retrieve(){var a=this;return this.request().then(function(b){return a.cart=b,b})}},{key:"remove",value:function remove(a){return this.request("items/".concat(a),"delete")}},{key:"delete",value:function _delete(){return this.request("","delete")}},{key:"update",value:function update(a,b){return this.request("items/".concat(a),"put",b)}},{key:"contents",value:function contents(){return this.request("items")}},{key:"empty",value:function empty(){return this.request("items","delete")}}]),a}();

  var Categories=function(){function a(b){_classCallCheck(this,a),this.commerce=b;}return _createClass(a,[{key:"list",value:function list(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return "function"==typeof a?this.commerce.request("categories"):this.commerce.request("categories","get",a)}},{key:"retrieve",value:function retrieve(a,b){return this.commerce.request("categories/".concat(a),"get",b)}}]),a}();

  var Checkout=function(){function Checkout(a){_classCallCheck(this,Checkout),this.commerce=a;}return _createClass(Checkout,[{key:"protect",value:function protect(token){return this.commerce.request("checkouts/".concat(token,"/protect")).then(function(data){return eval(data.sift_js)})}},{key:"generateToken",value:function generateToken(a,b){return this.commerce.request("checkouts/".concat(a),"get",b)}},{key:"capture",value:function capture(a,b){var c=this;return this.commerce.request("checkouts/".concat(a),"post",b).then(function(a){return c.commerce.cart.refresh(),a})}},{key:"checkPaypalStatus",value:function checkPaypalStatus(a){return this.commerce.request("checkouts/".concat(a,"/check/paypal/payment"))}},{key:"checkPaypalOrderCaptured",value:function checkPaypalOrderCaptured(a){return this.commerce.request("checkouts/".concat(a,"/check/paypal/captured"))}},{key:"receipt",value:function receipt(a){return this.commerce.request("checkouts/".concat(a,"/receipt"))}},{key:"checkPayWhatYouWant",value:function checkPayWhatYouWant(a,b){return this.commerce.request("checkouts/".concat(a,"/check/pay_what_you_want"),"get",b)}},{key:"fields",value:function fields(a){return this.commerce.request("checkouts/".concat(a,"/fields"))}},{key:"setTaxZone",value:function setTaxZone(a,b){return this.commerce.request("checkouts/".concat(a,"/helper/set_tax_zone"),"get",b)}},{key:"getLocationFromIP",value:function getLocationFromIP(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",c=b.length?"?ip_address=".concat(b):"";return this.commerce.request("checkouts/".concat(a,"/helper/location_from_ip").concat(c))}},{key:"isFree",value:function isFree(a){return this.commerce.request("checkouts/".concat(a,"/check/is_free"))}},{key:"checkVariant",value:function checkVariant(a,b,c){return this.commerce.request("checkouts/".concat(a,"/check/").concat(b,"/variant"),"get",c)}},{key:"checkDiscount",value:function checkDiscount(a,b){return this.commerce.request("checkouts/".concat(a,"/check/discount"),"get",b)}},{key:"checkShippingOption",value:function checkShippingOption(a,b){return this.commerce.request("checkouts/".concat(a,"/check/shipping"),"get",b)}},{key:"getShippingOptions",value:function getShippingOptions(a,b){return this.commerce.request("checkouts/".concat(a,"/helper/shipping_options"),"get",b)}},{key:"checkQuantity",value:function checkQuantity(a,b,c){return this.commerce.request("checkouts/".concat(a,"/check/").concat(b,"/quantity"),"get",c)}},{key:"helperValidation",value:function helperValidation(a){return this.commerce.request("checkouts/".concat(a,"/helper/validation"))}},{key:"getLive",value:function getLive(a){return this.commerce.request("checkouts/".concat(a,"/live"))}},{key:"getToken",value:function getToken(a){return this.commerce.request("checkouts/tokens/".concat(a))}},{key:"checkGiftcard",value:function checkGiftcard(a,b){return this.commerce.request("checkouts/".concat(a,"/check/giftcard"),"get",b)}}]),Checkout}();

  var Merchants=function(){function a(b){_classCallCheck(this,a),this.commerce=b;}return _createClass(a,[{key:"about",value:function about(){return this.commerce.request("merchants")}}]),a}();

  var Products=function(){function a(b){_classCallCheck(this,a),this.commerce=b;}return _createClass(a,[{key:"list",value:function list(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return this.commerce.request("products","get",a)}},{key:"retrieve",value:function retrieve(a,b){return this.commerce.request("products/".concat(a),"get",b)}}]),a}();

  var Services=function(){function a(b){_classCallCheck(this,a),this.commerce=b;}return _createClass(a,[{key:"localeListCountries",value:function localeListCountries(){return this.commerce.request("services/locale/countries")}},{key:"localeListShippingCountries",value:function localeListShippingCountries(a){return this.commerce.request("services/locale/".concat(a,"/countries"))}},{key:"localeListShippingSubdivisions",value:function localeListShippingSubdivisions(a,b){return this.commerce.request("services/locale/".concat(a,"/countries/").concat(b,"/subdivisions"))}},{key:"localeListSubdivisions",value:function localeListSubdivisions(a){return this.commerce.request("services/locale/".concat(a,"/subdivisions"))}}]),a}();

  var Features = {Cart:Cart,Categories:Categories,Checkout:Checkout,Merchants:Merchants,Products:Products,Services:Services};

  var consoleHelper=function(){var d,e,f,g,h,j=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"black",k=1<arguments.length?arguments[1]:void 0,l=2<arguments.length?arguments[2]:void 0,b=3<arguments.length?arguments[3]:void 0,c="White",m=!1;if("success"===j?(j="#488f5a",d="\u2705   "):"info"===j?(j="DodgerBlue",d=""):"error"===j?("validation"===b.error.type?(j="rgba(244, 67, 54, 1)",d="\uD83D\uDEAB Validation/Missing Fields",k=""):(j="rgba(244, 67, 54, 1)",d="\u274C HTTP ERROR ",c="rgba(244, 67, 54, 0.15)"),m=!0):"warning"===j?(j="rgba(208, 154, 35, 1)",d="\u26A0\uFE0F  "):void 0,!0===m){if(console.log("%c"+d+k,"color:"+j+";display:block; width: 100%;padding:2px 2px 2px 0px;font-family: Open Sans, Helvetica, Sans-serif;font-weight:bold;background-color:"+c+";"),"object"===_typeof(b.error.message)){for(g=b.error.message,e=0,f=g.length,h=[];e<f;)console.log("%c"+g[e].field+" %c"+g[e].error,"color:#515D6D;font-family: Open Sans, Helvetica, Sans-serif;font-weight:800;","color:#515D6D;font-family: Open Sans, Helvetica, Sans-serif;font-weight:400;"),h.push(e++);return h}return console.log("%c"+b.error.message,"color:#515D6D;font-family: Open Sans, Helvetica, Sans-serif;font-weight:400;")}return "object"===_typeof(j)?(console.log("%c"+k,"color: PowderBlue;font-weight:bold;font-family: Open Sans, Helvetica, Sans-serif; background-color: RoyalBlue;"),void console.log(j)):void(console.log("%c"+d+k,"color:"+j+";display:block;font-family: Open Sans, Helvetica, Sans-serif;line-height:28px; width: 100%;padding:2px 2px 2px 0px;font-weight:bold;background-color:"+c+";"),l&&console.log("%c"+l,"color:#515D6D;line-height:22px;font-weight:400; font-family: Open Sans, Helvetica, Sans-serif;"))},debuggerOnNotice=function(){console.log("%c\r\n \r\n                           Che         EcC\r\n                         c....c2    2c....:C\r\n                       c........c2   2c.....:C\r\n                     c............c2   2c.....:C\r\n                   c................c2   2c.....:C\r\n                 c....................c2   2c.....:C\r\n               c........................c2   2c.....:C\r\n             c............................c2   2c.....:C\r\n           c.......:E2  2c..................c2   2c.....:C\r\n         c........h  $$   2c..................c2   2c.....:C\r\n       c.........:C  $cc$  E....................c2   2c.....:C\r\n     c............h    $$  c......................c2   2c.....:C\r\n   c...............:E    E:.........................c2   2c.....:C\r\n   E............................:C c..................h2   2c...:C\r\n     E........................:C     c..................h2   2hC\r\n       E....................:C         c..................h2\r\n         E................:C             c................:C\r\n           E............:C                 c............:C\r\n             E........:C                     c........:C\r\n               E....:C                         c....:C\r\n                 EcC                             EcC\r\n \r\n \r\n \r\n","font-family: Courier New, Courier, monospace; color: #788ba4; font-weight:bold; font-size: 11px;"),console.log("%cCommerce.js console debugger is on!  \uD83C\uDF89","text-align:center; display:block; font-family: Open Sans, Helvetica, Sans-serif; color: #488f5a; line-height:28px; font-size: 14px"),console.log("%c\uD83D\uDCAC   Need some help? Join our Slack channel - https://chec-commercejs-community.herokuapp.com \r\n","text-align:center; display:block; font-family: Open Sans, Helvetica, Sans-serif; color: #515D6D; line-height:20px; font-size: 12px");};

  var bind=function(a,b){return function(){for(var c=Array(arguments.length),d=0;d<c.length;d++)c[d]=arguments[d];return a.apply(b,c)}};

  var isBuffer=function(a){return null!=a&&null!=a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)};

  var toString=Object.prototype.toString;function isArray(a){return "[object Array]"===toString.call(a)}function isArrayBuffer(a){return "[object ArrayBuffer]"===toString.call(a)}function isFormData(a){return "undefined"!=typeof FormData&&a instanceof FormData}function isArrayBufferView(a){var b;return b="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(a):a&&a.buffer&&a.buffer instanceof ArrayBuffer,b}function isString(a){return "string"==typeof a}function isNumber(a){return "number"==typeof a}function isUndefined(a){return "undefined"==typeof a}function isObject(a){return null!==a&&"object"==typeof a}function isDate(a){return "[object Date]"===toString.call(a)}function isFile(a){return "[object File]"===toString.call(a)}function isBlob(a){return "[object Blob]"===toString.call(a)}function isFunction(a){return "[object Function]"===toString.call(a)}function isStream(a){return isObject(a)&&isFunction(a.pipe)}function isURLSearchParams(a){return "undefined"!=typeof URLSearchParams&&a instanceof URLSearchParams}function trim(a){return a.replace(/^\s*/,"").replace(/\s*$/,"")}function isStandardBrowserEnv(){return ("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document}function forEach(a,b){if(null!==a&&"undefined"!=typeof a)if("object"!=typeof a&&(a=[a]),isArray(a))for(var c=0,d=a.length;c<d;c++)b.call(null,a[c],c,a);else for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&b.call(null,a[e],e,a);}function merge(){function a(a,c){b[c]="object"==typeof b[c]&&"object"==typeof a?merge(b[c],a):a;}for(var b={},c=0,d=arguments.length;c<d;c++)forEach(arguments[c],a);return b}function deepMerge(){function a(a,c){b[c]="object"==typeof b[c]&&"object"==typeof a?deepMerge(b[c],a):"object"==typeof a?deepMerge({},a):a;}for(var b={},c=0,d=arguments.length;c<d;c++)forEach(arguments[c],a);return b}function extend(c,a,b){return forEach(a,function(a,d){c[d]=b&&"function"==typeof a?bind(a,b):a;}),c}var utils={isArray:isArray,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,deepMerge:deepMerge,extend:extend,trim:trim};

  function encode(a){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL=function(a,b,c){if(!b)return a;var d;if(c)d=c(b);else if(utils.isURLSearchParams(b))d=b.toString();else{var e=[];utils.forEach(b,function(a,b){null===a||"undefined"==typeof a||(utils.isArray(a)?b+="[]":a=[a],utils.forEach(a,function(a){utils.isDate(a)?a=a.toISOString():utils.isObject(a)&&(a=JSON.stringify(a)),e.push(encode(b)+"="+encode(a));}));}),d=e.join("&");}if(d){var f=a.indexOf("#");-1!==f&&(a=a.slice(0,f)),a+=(-1===a.indexOf("?")?"?":"&")+d;}return a};

  function InterceptorManager(){this.handlers=[];}InterceptorManager.prototype.use=function(a,b){return this.handlers.push({fulfilled:a,rejected:b}),this.handlers.length-1},InterceptorManager.prototype.eject=function(a){this.handlers[a]&&(this.handlers[a]=null);},InterceptorManager.prototype.forEach=function(a){utils.forEach(this.handlers,function(b){null!==b&&a(b);});};var InterceptorManager_1=InterceptorManager;

  var transformData=function(a,b,c){return utils.forEach(c,function(c){a=c(a,b);}),a};

  var isCancel=function(a){return !!(a&&a.__CANCEL__)};

  var normalizeHeaderName=function(a,b){utils.forEach(a,function(c,d){d!==b&&d.toUpperCase()===b.toUpperCase()&&(a[b]=c,delete a[d]);});};

  var enhanceError=function(a,b,c,d,e){return a.config=b,c&&(a.code=c),a.request=d,a.response=e,a.isAxiosError=!0,a.toJSON=function(){return {message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},a};

  var createError=function(a,b,c,d,e){var f=new Error(a);return enhanceError(f,b,c,d,e)};

  var settle=function(a,b,c){var d=c.config.validateStatus;!d||d(c.status)?a(c):b(createError("Request failed with status code "+c.status,c.config,null,c.request,c));};

  var ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders=function(a){var b,c,d,e={};return a?(utils.forEach(a.split("\n"),function(a){if(d=a.indexOf(":"),b=utils.trim(a.substr(0,d)).toLowerCase(),c=utils.trim(a.substr(d+1)),b){if(e[b]&&0<=ignoreDuplicateOf.indexOf(b))return;e[b]="set-cookie"===b?(e[b]?e[b]:[]).concat([c]):e[b]?e[b]+", "+c:c;}}),e):e};

  var isURLSameOrigin=utils.isStandardBrowserEnv()?function(){function a(a){var b=a;return c&&(d.setAttribute("href",b),b=d.href),d.setAttribute("href",b),{href:d.href,protocol:d.protocol?d.protocol.replace(/:$/,""):"",host:d.host,search:d.search?d.search.replace(/^\?/,""):"",hash:d.hash?d.hash.replace(/^#/,""):"",hostname:d.hostname,port:d.port,pathname:"/"===d.pathname.charAt(0)?d.pathname:"/"+d.pathname}}var b,c=/(msie|trident)/i.test(navigator.userAgent),d=document.createElement("a");return b=a(window.location.href),function(c){var d=utils.isString(c)?a(c):c;return d.protocol===b.protocol&&d.host===b.host}}():function(){return function(){return !0}}();

  var cookies=utils.isStandardBrowserEnv()?function(){return {write:function(a,b,c,d,e,f){var g=[];g.push(a+"="+encodeURIComponent(b)),utils.isNumber(c)&&g.push("expires="+new Date(c).toGMTString()),utils.isString(d)&&g.push("path="+d),utils.isString(e)&&g.push("domain="+e),!0===f&&g.push("secure"),document.cookie=g.join("; ");},read:function(a){var b=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return b?decodeURIComponent(b[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5);}}}():function(){return {write:function(){},read:function(){return null},remove:function(){}}}();

  var xhr=function(a){return new Promise(function(b,c){var d=a.data,e=a.headers;utils.isFormData(d)&&delete e["Content-Type"];var f=new XMLHttpRequest;if(a.auth){var g=a.auth.username||"",h=a.auth.password||"";e.Authorization="Basic "+btoa(g+":"+h);}if(f.open(a.method.toUpperCase(),buildURL(a.url,a.params,a.paramsSerializer),!0),f.timeout=a.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var d="getAllResponseHeaders"in f?parseHeaders(f.getAllResponseHeaders()):null,e=a.responseType&&"text"!==a.responseType?f.response:f.responseText,g={data:e,status:f.status,statusText:f.statusText,headers:d,config:a,request:f};settle(b,c,g),f=null;}},f.onabort=function(){f&&(c(createError("Request aborted",a,"ECONNABORTED",f)),f=null);},f.onerror=function(){c(createError("Network Error",a,null,f)),f=null;},f.ontimeout=function(){c(createError("timeout of "+a.timeout+"ms exceeded",a,"ECONNABORTED",f)),f=null;},utils.isStandardBrowserEnv()){var i=(a.withCredentials||isURLSameOrigin(a.url))&&a.xsrfCookieName?cookies.read(a.xsrfCookieName):void 0;i&&(e[a.xsrfHeaderName]=i);}if("setRequestHeader"in f&&utils.forEach(e,function(a,b){"undefined"==typeof d&&"content-type"===b.toLowerCase()?delete e[b]:f.setRequestHeader(b,a);}),a.withCredentials&&(f.withCredentials=!0),a.responseType)try{f.responseType=a.responseType;}catch(b){if("json"!==a.responseType)throw b}"function"==typeof a.onDownloadProgress&&f.addEventListener("progress",a.onDownloadProgress),"function"==typeof a.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",a.onUploadProgress),a.cancelToken&&a.cancelToken.promise.then(function(a){f&&(f.abort(),c(a),f=null);}),void 0===d&&(d=null),f.send(d);})};

  var DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(a,b){!utils.isUndefined(a)&&utils.isUndefined(a["Content-Type"])&&(a["Content-Type"]=b);}function getDefaultAdapter(){var a;return "undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)?a=xhr:"undefined"!=typeof XMLHttpRequest&&(a=xhr),a}var defaults={adapter:getDefaultAdapter(),transformRequest:[function(a,b){return normalizeHeaderName(b,"Accept"),normalizeHeaderName(b,"Content-Type"),utils.isFormData(a)||utils.isArrayBuffer(a)||utils.isBuffer(a)||utils.isStream(a)||utils.isFile(a)||utils.isBlob(a)?a:utils.isArrayBufferView(a)?a.buffer:utils.isURLSearchParams(a)?(setContentTypeIfUnset(b,"application/x-www-form-urlencoded;charset=utf-8"),a.toString()):utils.isObject(a)?(setContentTypeIfUnset(b,"application/json;charset=utf-8"),JSON.stringify(a)):a}],transformResponse:[function(a){if("string"==typeof a)try{a=JSON.parse(a);}catch(a){}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(a){return 200<=a&&300>a}};defaults.headers={common:{Accept:"application/json, text/plain, */*"}},utils.forEach(["delete","get","head"],function(a){defaults.headers[a]={};}),utils.forEach(["post","put","patch"],function(a){defaults.headers[a]=utils.merge(DEFAULT_CONTENT_TYPE);});var defaults_1=defaults;

  var isAbsoluteURL=function(a){return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(a)};

  var combineURLs=function(a,b){return b?a.replace(/\/+$/,"")+"/"+b.replace(/^\/+/,""):a};

  function throwIfCancellationRequested(a){a.cancelToken&&a.cancelToken.throwIfRequested();}var dispatchRequest=function(a){throwIfCancellationRequested(a),a.baseURL&&!isAbsoluteURL(a.url)&&(a.url=combineURLs(a.baseURL,a.url)),a.headers=a.headers||{},a.data=transformData(a.data,a.headers,a.transformRequest),a.headers=utils.merge(a.headers.common||{},a.headers[a.method]||{},a.headers||{}),utils.forEach(["delete","get","head","post","put","patch","common"],function(b){delete a.headers[b];});var b=a.adapter||defaults_1.adapter;return b(a).then(function(b){return throwIfCancellationRequested(a),b.data=transformData(b.data,b.headers,a.transformResponse),b},function(b){return isCancel(b)||(throwIfCancellationRequested(a),b&&b.response&&(b.response.data=transformData(b.response.data,b.response.headers,a.transformResponse))),Promise.reject(b)})};

  var mergeConfig=function(a,b){b=b||{};var c={};return utils.forEach(["url","method","params","data"],function(a){"undefined"!=typeof b[a]&&(c[a]=b[a]);}),utils.forEach(["headers","auth","proxy"],function(d){utils.isObject(b[d])?c[d]=utils.deepMerge(a[d],b[d]):"undefined"==typeof b[d]?utils.isObject(a[d])?c[d]=utils.deepMerge(a[d]):"undefined"!=typeof a[d]&&(c[d]=a[d]):c[d]=b[d];}),utils.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(d){"undefined"==typeof b[d]?"undefined"!=typeof a[d]&&(c[d]=a[d]):c[d]=b[d];}),c};

  function Axios(a){this.defaults=a,this.interceptors={request:new InterceptorManager_1,response:new InterceptorManager_1};}Axios.prototype.request=function(a){"string"==typeof a?(a=arguments[1]||{},a.url=arguments[0]):a=a||{},a=mergeConfig(this.defaults,a),a.method=a.method?a.method.toLowerCase():"get";var b=[dispatchRequest,void 0],c=Promise.resolve(a);for(this.interceptors.request.forEach(function(a){b.unshift(a.fulfilled,a.rejected);}),this.interceptors.response.forEach(function(a){b.push(a.fulfilled,a.rejected);});b.length;)c=c.then(b.shift(),b.shift());return c},Axios.prototype.getUri=function(a){return a=mergeConfig(this.defaults,a),buildURL(a.url,a.params,a.paramsSerializer).replace(/^\?/,"")},utils.forEach(["delete","get","head","options"],function(a){Axios.prototype[a]=function(b,c){return this.request(utils.merge(c||{},{method:a,url:b}))};}),utils.forEach(["post","put","patch"],function(a){Axios.prototype[a]=function(b,c,d){return this.request(utils.merge(d||{},{method:a,url:b,data:c}))};});var Axios_1=Axios;

  function Cancel(a){this.message=a;}Cancel.prototype.toString=function(){return "Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0;var Cancel_1=Cancel;

  function CancelToken(a){if("function"!=typeof a)throw new TypeError("executor must be a function.");var b;this.promise=new Promise(function(a){b=a;});var c=this;a(function(a){c.reason||(c.reason=new Cancel_1(a),b(c.reason));});}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},CancelToken.source=function(){var a,b=new CancelToken(function(b){a=b;});return {token:b,cancel:a}};var CancelToken_1=CancelToken;

  var spread=function(a){return function(b){return a.apply(null,b)}};

  function createInstance(a){var b=new Axios_1(a),c=bind(Axios_1.prototype.request,b);return utils.extend(c,Axios_1.prototype,b),utils.extend(c,b),c}var axios=createInstance(defaults_1);axios.Axios=Axios_1,axios.create=function(a){return createInstance(mergeConfig(axios.defaults,a))},axios.Cancel=Cancel_1,axios.CancelToken=CancelToken_1,axios.isCancel=isCancel,axios.all=function(a){return Promise.all(a)},axios.spread=spread;var axios_1=axios,default_1=axios;axios_1.default=default_1;

  var axios$1=axios_1;

  function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d);}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(b,!0).forEach(function(c){_defineProperty(a,c,b[c]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(b).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c));});return a}var defaultEventCallback=function(a){var b=new CustomEvent("Commercejs.".concat(a),{bubbles:!1,cancelable:!1});return window.dispatchEvent(b)},Commerce=function(){function a(b){var c=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(_classCallCheck(this,a),this.options=_objectSpread({version:"v1",url:"https://api.chec.io/",eventCallback:defaultEventCallback},d,{publicKey:b,debug:c}),("string"!=typeof b||0===b.length)&&console.warn("\u26A0\uFE0F Invalid public key given to Commerce.js client"),"sk_"===b.toLowerCase().substring(0,3))throw new Error("Secret key provided. You must use a public key with Commerce.js!");this.storage=new Storage(this),this.cart=new Features.Cart(this),this.checkout=new Features.Checkout(this),this.products=new Features.Products(this),this.services=new Features.Services(this),this.categories=new Features.Categories(this),this.merchants=new Features.Merchants(this),c&&(this.consoleHelper=consoleHelper,debuggerOnNotice());}return _createClass(a,[{key:"error",value:function error(a){if(this.consoleHelper&&this.options.debug){var b="[".concat(a.status,"] Type: ").concat(a.statusText),c="string"==typeof a.data?a.data:a.statusText;return this.consoleHelper("error",b,c,a)}}},{key:"_serialize",value:function _serialize(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if("object"!==_typeof(a))return a;var d=c||new FormData;for(var e in a){var f=null===b?e:"".concat(b,"[").concat(e,"]");"object"===_typeof(a[e])?this._serialize(a[e],f,d):d.append(f,a[e]);}return d}},{key:"request",value:function request(a){var b=this,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"get",d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,e=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],f={"X-Authorization":this.options.publicKey,"X-Chec-Agent":"commerce.js/v2"},g="get"===c?d:null,h="get"===c?null:this._serialize(d),i=this.options.timeoutMs||6e4,j=this.options.axiosConfig||{},k=this.options.url;"/"!==k.substring(k.length-1)&&(k+="/");var l=axios$1(_objectSpread({url:a,method:c,baseURL:"".concat(k).concat(this.options.version,"/"),params:g,data:h,timeout:i},j,{headers:_objectSpread({},f,{},j.headers)}));if(e)return l;var m=this.options.eventCallback;return l.then(function(a){if(200<=a.status&&300>a.status){if("object"!==_typeof(a.data)||Array.isArray(a.data))return a.data;var c=a.data,d=c._event,e=_objectWithoutProperties(c,["_event"]);return "string"==typeof d&&"function"==typeof m&&m(d),e}throw b.error(a),{message:"Unsuccessful response (".concat(a.status,": ").concat(a.statusText,") received"),response:a}})}}]),a}();

  module.exports=Commerce;

}(_objectWithoutProperties, _typeof, _defineProperty, _classCallCheck, _createClass, _regeneratorRuntime, _asyncToGenerator));
